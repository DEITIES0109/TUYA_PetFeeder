# TUYA_PetFeeder
A Pet-Feeder based on Tuya-IOT
- This project is developed using Tuya SDK, which enables you to quickly develop branded apps connecting and controlling smart scenarios of many devices.For more information, please check Tuya Developer Website.
- 这是一个基于涂鸦SDK进行开发的学习型项目，此工程能够使您快速开发出连接和控制许多智能场景的应用程序设备。更多信息请查看涂鸦开发者网站。
- 该项目使用STM32G431与Wi-Fi MCU 通信板（VWXR2）实现智能控制与远程监控，也可以借助语音硬件开发板实现类似于小爱同学的智能家居控制体验。
## 一、项目名称
**基于涂鸦智能的宠物喂食器**
## 二、背景
> 2020的突发疫情,许多宠物与主人分隔两地，宠物得不到及时喂食。现阶段虽然疫情有所好转，但996的工作模式，宠物喂食难免有所疏忽。我们经常说人按时吃饭对肠胃好，对于宠物来说亦是如此。当今社会的“打工人”很多时候忙的自己都顾不上毫无疑问，很多时候宠物也不能得到及时的喂食。在此前提下，本人决定基于涂鸦智能设计一款智能宠物喂食器，它不仅仅能及时地对宠物进行喂食，还能定时定量的喂食，这样更加有利于控制宠物地体重，同时本设计中也会加入一些与宠物地互动功能，以减少宠物独自在家地孤独感。
## 三、市场分析与前景
- 当今市场上在售的宠物喂食器品类众多，但大多外观单一、功能较少且APP外观老旧。
- 本设计基于强大的涂鸦智能进行设计，可以根据用户的需求设计软硬件及APP控制面板。
## 四、使用场景及适用人群
- 适用于“有宠家庭”、残障人士、“撸猫”咖啡店、流浪动物救助站等。
## 五、项目方案
>   从实际出发，设计一款基于涂鸦智能的宠物喂食器，该喂食器可以与互联网连接实现远程控制及智能互联。用户可以通过手机APP设定，对宠物进行快速喂食或者定时喂食、利用主人提前录制好的语音提醒宠物进食、对储存在仓盒中的狗粮（猫粮）进行干燥处理。该设计中的所有外设都直接与STM32单片机进行通讯，如通过H桥直流电机驱动模块，补光灯模块、语音操控模块等。以上功能的结合能较好地完成对宠物进行远程喂食的功能，实现对宠物的智能投喂。
## 六、基本功能
- MCU定时控制电机对宠物进行投食；
- 喂食器采用多仓设计，可以对宠物进行正常喂食以及“加餐”操作（喂食仓位选择由步进电机控制，喂食量由直流减速电机控制）；
- 实时监控家中的温湿度；
- OLED屏幕显示一些宠物喂食器的基本状态；
- 利用热释电感应器来感知爱宠是否在喂食器周围，当其在周围徘徊一段时间后可选择是否对其进行喂食；
- 补光灯功能，该功能可以根据光敏传感器测得的环境光亮度调整LED灯的亮度，也可在夜间配合热释电传感器实现“小夜灯的功能”；
- 测量宠物粮食仓库中食物的余量并在手机APP上显示，当粮食不足时借助手机APP或蜂鸣器、显示屏等向主人发出提醒；
- 采用高精度数字式温湿度传感器SHT30实时监测粮食仓的状态，当湿度过大时可利用风扇等进行除湿处理；
- 加入语音模块,可实现语音控制及智能播报功能；
- 主人可通过app远程查看设备投喂状态,命令下发等功能,真正做到了在哪都能保护好自己的爱宠。
## 七、方案实施流程
### 1.所需材料
- 以STM32G431为核心的MCU主控板；
- 涂鸦三明治WIFI通信板；
- 涂鸦三明治H桥驱动板；
- 电源模组；
- OLED显示屏；
- SHT30温湿度传感器；
- 直流减速电机+步进电机；
- 外壳（第一版先使用纸壳代替，后期可以3D打印外壳）；
- 涂鸦APP；
- 串口调试器、LINK下载器等。
### 2.具体实施
- 根据计划书设计PCB；
- 基于STM32CubeMX与涂鸦提供的MCU_SDK搭建基础软件开发环境；
- 下单PCB、所需硬件及元器件；
- 焊接自己设计的PCB；
- 硬件调试；
- 完善软件；
- 软硬件联合调试；
- 完善、整理材料；
- 提交开源资料。
## 八、开发计划
> 1.硬件设计
>- 3.8-3.12 准备材料,器件选型及采购 ；
>- 3.13-3.15 PCB设计及下单；
>
> 2.软件设计
>- 3.15 搭建基础软件开发环境，学习TUYA_IOT相关知识；
>- 3.16-3.20 编写STM32基础外设相关软件（如：SHT30、OLED）；
>- 3.20-3.22 移植并完善MCU_SDK相关函数；
>- 3.23-3.25 软硬件联合调试；  
>
> 3.资料汇总
>- 3.26-3.28 整理汇总项目中所用资料，录制演示视频并上传开源平台。
